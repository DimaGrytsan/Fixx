(function () {
    angular.module('App')
        .controller('DiagnosticCtrl', DiagnosticCtrl);
    DiagnosticCtrl.$inject = ['$scope', '$timeout', '$http'];
    function DiagnosticCtrl($scope, $timeout, $http) {
        var steps = ['step_1', 'step_2', 'step_3'];
        var count_step = 0;
        $scope.step = steps[count_step];


        $scope.watching = [
            {id: '1', title: 'Косметические дефекты' },
            {id: '2', title: 'Не вибрирует'},
            {id: '3', title: 'Не работают индикаторы, подсветка'},
            {id: '4', title: 'Проблема с IMEI'},
            {id: '5', title: 'Проблема с микрофоном'},
            {id: '6', title: 'Проблема со звуком'},
            {id: '7', title: 'Проблемы с дисплеем'},
            {id: '8', title: 'Проблемы с камерой'},
            {id: '9', title: 'Проблемы с картой памяти'},
            {id: '10', title: 'Проблемы с питанием'},
            {id: '11', title: 'Проблемы с программным обеспечением'},
            {id: '12', title: 'Проблемы с работой устройства, зависает'},
            {id: '13', title: 'Проблемы с сигналом / покрытием'},
            {id: '14', title: 'Проблемы со стилусом'},
            {id: '15', title: 'Проблемы соединения'},
            {id: '16', title: 'Кабель USB'},
            {id: '17', title: 'Камера'},
            {id: '18', title: 'Кнопка включения'},
            {id: '19', title: 'Корпус'},
            {id: '20', title: 'Микрофон'},
            {id: '21', title: 'Наушники'},
            {id: '22', title: 'Нестабильный сигнал GSM'},
            {id: '23', title: 'Стилус'},
            {id: '24', title: 'Микрофон'}
        ];
        $scope.know = [
            {id: '1', title: 'Bluetooth'},
            {id: '2', title: 'Bluetooth гарнитура'},
            {id: '3', title: 'GPS'},
            {id: '4', title: 'IMEI'},
            {id: '5', title: 'LED'},
            {id: '6', title: 'SD Card'},
            {id: '7', title: 'Sim карта'},
            {id: '8', title: 'Soft проблема'},
            {id: '9', title: 'WIFI'},
            {id: '10', title: 'Батарея'},
            {id: '11', title: 'Батарея/Кнопка включения'},
            {id: '12', title: 'Блок питания'},
            {id: '13', title: 'Вибромотор'},
            {id: '14', title: 'Динамик'},
            {id: '15', title: 'Дисплей'},
            {id: '16', title: 'Кабель USB'},
            {id: '17', title: 'Камера'},
            {id: '18', title: 'Кнопка включения'},
            {id: '19', title: 'Корпус'},
            {id: '20', title: 'Микрофон'},
            {id: '21', title: 'Наушники'},
            {id: '22', title: 'Нестабильный сигнал GSM'},
            {id: '23', title: 'Стилус'},
            {id: '24', title: 'Микрофон'}
        ];

        $scope.result = [{"val0":"Дефект корпуса(трещина, потертость, щели и т.д.)","val1":"Корпус","val2":"100%","val3":"Замена корпуса"},
            {"val0":"Дефект вибромотора","val1":"Вибромотор","val2":"100%","val3":"Замена вибромотора"},
            {"val0":"Дефект LED индикатора ","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект LED индикатора ","val1":"Дополнительная плата","val2":"50%","val3":"Замена или ремонт дополнительной платы"},
            {"val0":"Дефект подсветки (клавиш)","val1":"Материнская плата","val2":"20%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект подсветки (клавиш)","val1":"Дополнительная плата","val2":"40%","val3":"Замена или ремонт дополнительной платы"},
            {"val0":"Дефект подсветки (клавиш)","val1":"Дисплей","val2":"40%","val3":"Замена дисплея"},
            {"val0":"Дефект вспышки","val1":"Материнская плата","val2":"100%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Неверный или отсутсвует IMEI ","val1":"Обновление IMEI","val2":"70%","val3":"Программное восстановление"},
            {"val0":"Неверный или отсутсвует IMEI ","val1":"Материнская плата","val2":"30%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Вас не слышит или плохо слышыт собеседник при разговоре","val1":"Микрофон","val2":"90%","val3":"Замена микрофона"},
            {"val0":"Вас не слышит или плохо слышыт собеседник при разговоре","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект микрофона","val1":"Микрофон","val2":"90%","val3":"Замена микрофона"},
            {"val0":"Дефект микрофона","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект Bluetooth гарнитуры","val1":"Bluetooth гарнитура","val2":"50%","val3":"Замена BT гарнитуры"},
            {"val0":"Дефект Bluetooth гарнитуры","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект динамика","val1":"Динамик","val2":"90%","val3":"Замена динамика"},
            {"val0":"Дефект динамика","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Звук резко возрастает, потом затухает","val1":"Материнская плата","val2":"80%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Звук резко возрастает, потом затухает","val1":"Динамик","val2":"20%","val3":"Замена динамика"},
            {"val0":"Нехарактерный звук динамика","val1":"Динамик","val2":"90%","val3":"Замена динамика"},
            {"val0":"Нехарактерный звук динамика","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Не слышно собеседника при разговоре","val1":"Слуховой динамик","val2":"90%","val3":"Замена слухового динамика"},
            {"val0":"Не слышно собеседника при разговоре","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Динамик не работает","val1":"Динамик","val2":"80%","val3":"Замена динамика"},
            {"val0":"Динамик не работает","val1":"Материнская плата","val2":"20%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Невозможно отрегулировать громкость","val1":"Кнопки громкости","val2":"90%","val3":"Замена кнопок громкости"},
            {"val0":"Невозможно отрегулировать громкость","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект клавиши громкости","val1":"Кнопки громкости","val2":"90%","val3":"Замена кнопок громкости"},
            {"val0":"Дефект клавиши громкости","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект наушников","val1":"Наушники","val2":"50%","val3":"Замена наушников"},
            {"val0":"Дефект наушников","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект коннектора наушников","val1":"Материнская плата","val2":"100%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Нет изображения","val1":"Дисплей","val2":"70%","val3":"Замена дисплея"},
            {"val0":"Нет изображения","val1":"Материнская плата","val2":"30%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Искаженное изображения","val1":"Дисплей","val2":"80%","val3":"Замена дисплея"},
            {"val0":"Искаженное изображения","val1":"Материнская плата","val2":"20%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Некорректная цветопередача или подсветка","val1":"Дисплей","val2":"90%","val3":"Замена дисплея"},
            {"val0":"Некорректная цветопередача или подсветка","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Трещина на дисплеи","val1":"Дисплей","val2":"100%","val3":"Замена дисплея"},
            {"val0":"Битые пиксели на дисплеи","val1":"Дисплей","val2":"100%","val3":"Замена дисплея"},
            {"val0":"Сенсорная панель не реагирует на касания","val1":"Дисплей","val2":"90%","val3":"Замена дисплея"},
            {"val0":"Сенсорная панель не реагирует на касания","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект камеры","val1":"Камера","val2":"80%","val3":"Замена камеры"},
            {"val0":"Дефект камеры","val1":"Материнская плата","val2":"20%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект SD Card","val1":"SD Card","val2":"50%","val3":"Замена SD карты"},
            {"val0":"Дефект SD Card","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Дефект автомобильного зарядного устройства","val1":"Автомобильный блок питания","val2":"100%","val3":"Замена автомобильного блока питания"},
            {"val0":"Аккумулятор издает нехарактерный звук","val1":"Батарея","val2":"100%","val3":"Замена батареи"},
            {"val0":"Аккумулятор не заряжается","val1":"Батарея","val2":"20%","val3":"Замена батареи"},
            {"val0":"Аккумулятор не заряжается","val1":"Материнская плата","val2":"20%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Аккумулятор не заряжается","val1":"Плата с разъемом питания","val2":"20%","val3":"Замена или ремонт платы питания"},
            {"val0":"Аккумулятор не заряжается","val1":"Блок питания","val2":"20%","val3":"Замена блока питания"},
            {"val0":"Аккумулятор не заряжается","val1":"Кабель USB","val2":"20%","val3":"Замена кабеля USB"},
            {"val0":"Аккумулятор нагревается","val1":"Батарея","val2":"50%","val3":"Замена батареи"},
            {"val0":"Аккумулятор нагревается","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Аккумулятор механически поврежден","val1":"Батарея","val2":"100%","val3":"Замена батареи"},
            {"val0":"Аккумулятор не заряжается полностью","val1":"Батарея","val2":"100%","val3":"Замена батареи"},
            {"val0":"Аккумулятор быстро разряжается","val1":"Батарея","val2":"50%","val3":"Замена батареи"},
            {"val0":"Аккумулятор быстро разряжается","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Перегрев устройcтва","val1":"Материнская плата","val2":"70%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Перегрев устройcтва","val1":"Батарея","val2":"30%","val3":"Замена батареи"},
            {"val0":"Дефект зарядного устройства телефона","val1":"Блок питания","val2":"100%","val3":"Замена блока питания"},
            {"val0":"Теряется сигнал в спящем режиме","val1":"Материнская плата","val2":"100%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Не читается sim карта ","val1":"Материнская плата","val2":"90%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Не читается sim карта ","val1":"Sim карта","val2":"10%","val3":"Замена SIM карты"},
            {"val0":"Некорректно работает программное обеспечение","val1":"Сброс к заводским настройкам","val2":"85%","val3":"Программное восстановление"},
            {"val0":"Некорректно работает программное обеспечение","val1":"Материнская плата","val2":"15%","val3":"Замена или ремонт материнской платы"},
            {"val0":"MP3 не воспроизводится","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Невозможно скачать картинку / рингтон","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Невозможно удалить сообщение","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Невозможно получить/отправить сообщение","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Невозможно отредактировать сообщение","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Невозможно пользоваться MMS","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Время/Дата не меняется/не сохраняется","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Адресная книга не сохраняется/не редактируется","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Не сохраняется история звонков","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Не устанавливается обновление системы","val1":"Сброс к заводским настройкам","val2":"90%","val3":"Программное восстановление"},
            {"val0":"Не устанавливается обновление системы","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Нет соединения между ПК/Телефоном","val1":"Плата с разъемом питания","val2":"30%","val3":"Замена или ремонт платы питания"},
            {"val0":"Нет соединения между ПК/Телефоном","val1":"Сброс к заводским настройкам","val2":"10%","val3":"Программное восстановление"},
            {"val0":"Телефон медленно реагирует","val1":"Сброс к заводским настройкам","val2":"50%","val3":"Программное восстановление"},
            {"val0":"Телефон медленно реагирует","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Приложение / Утилита не работает\n(Просьба указать не работающие приложения / утилиты и описать подробно)","val1":"Сброс к заводским настройкам","val2":"100%","val3":"Программное восстановление"},
            {"val0":"Нет соединения между ПК/Телефоном","val1":"Материнская плата","val2":"30%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Нет соединения между ПК/Телефоном","val1":"Кабель USB","val2":"30%","val3":"Замена кабеля USB"},
            {"val0":"Невозможно перейти в спящий режим","val1":"Кнопка включения","val2":"50%","val3":"Замена кнопки включения"},
            {"val0":"Невозможно перейти в спящий режим","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Телефон зависает во время работы","val1":"Материнская плата","val2":"80%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Телефон зависает во время работы","val1":"Сброс к заводским настройкам","val2":"20%","val3":"Программное восстановление"},
            {"val0":"Не выключается","val1":"Сброс к заводским настройкам","val2":"70%","val3":"Программное восстановление"},
            {"val0":"Не выключается","val1":"Материнская плата","val2":"30%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Телефон зависает при загрузке","val1":"Сброс к заводским настройкам","val2":"50%","val3":"Программное восстановление"},
            {"val0":"Телефон зависает при загрузке","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Самопроизвольно выключается во время работы","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Самопроизвольно выключается во время работы","val1":"Батарея","val2":"50%","val3":"Замена батареи"},
            {"val0":"Не включается","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Не включается","val1":"Батарея","val2":"40%","val3":"Замена батареи"},
            {"val0":"Не включается","val1":"Кнопка включения","val2":"10%","val3":"Замена кнопки включения"},
            {"val0":"Циклически самопроизвольно включается и выключается","val1":"Кнопка включения","val2":"90%","val3":"Замена кнопки включения"},
            {"val0":"Циклически самопроизвольно включается и выключается","val1":"Материнская плата","val2":"10%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Нет сети GSM ","val1":"Материнская плата","val2":"50%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Нет сети GSM ","val1":"Дополнительная плата сети","val2":"30%","val3":"Замена или ремонт дополнительной платы"},
            {"val0":"Нет сети GSM ","val1":"Sim карта","val2":"20%","val3":"Замена SIM карты"},
            {"val0":"Нестабильный сигнал GSM","val1":"Материнская плата","val2":"60%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Нестабильный сигнал GSM","val1":"Дополнительная плата сети","val2":"30%","val3":"Замена или ремонт дополнительной платы"},
            {"val0":"Нестабильный сигнал GSM","val1":"Sim карта","val2":"10%","val3":"Замена SIM карты"},
            {"val0":"Дефект стилуса","val1":"Стилус","val2":"20%","val3":"Замена стилуса"},
            {"val0":"Дефект стилуса","val1":"Дисплей","val2":"80%","val3":"Замена дисплея"},
            {"val0":"Не работает  Bluetooth","val1":"Материнская плата","val2":"90%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Не работает  Bluetooth","val1":"Сброс к заводским настройкам","val2":"10%","val3":"Программное восстановление"},
            {"val0":"Не работает GPS","val1":"Материнская плата","val2":"90%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Не работает GPS","val1":"Сброс к заводским настройкам","val2":"10%","val3":"Программное восстановление"},
            {"val0":"WIFI проблемы","val1":"Сброс к заводским настройкам","val2":"10%","val3":"Программное восстановление"},
            {"val0":"WIFI проблемы","val1":"Материнская плата","val2":"70%","val3":"Замена или ремонт материнской платы"},
            {"val0":"WIFI проблемы","val1":"Антена WiFi","val2":"20%","val3":"Замена антен(ы) WiFi"},
            {"val0":"Не работает WIFI","val1":"Материнская плата","val2":"90%","val3":"Замена или ремонт материнской платы"},
            {"val0":"Не работает WIFI","val1":"Сброс к заводским настройкам","val2":"10%","val3":"Программное восстановление"}]

        $scope.step_prev_btn = function () {
            if (count_step != 0) {
                $scope.step = '';
                --count_step;
                $scope.step = steps[count_step]
            } else return false;
        };

        $scope.step_next_btn = function () {
            if (count_step != 2) {
                $scope.step = '';
                ++count_step;
                $scope.step = steps[count_step]
            } else return false;

        }
    }
})();
